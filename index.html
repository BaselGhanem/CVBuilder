<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Basel | Cinematic Builder</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        /* --- 1. LUXURY VARIABLES --- */
        :root {
            --bg-deep: #030305;
            --primary: #7c3aed;  /* Electric Purple */
            --primary-glow: 0 0 40px rgba(124, 58, 237, 0.4);
            --glass-surface: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-muted: #9ca3af;
            --font-main: 'Cairo', sans-serif;
            --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-deep);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* --- 2. DYNAMIC BACKGROUND (Aurora Effect) --- */
        .ambient-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: 
                radial-gradient(circle at 15% 50%, rgba(76, 29, 149, 0.15), transparent 40%),
                radial-gradient(circle at 85% 30%, rgba(56, 189, 248, 0.1), transparent 40%);
            animation: breathe 10s infinite alternate ease-in-out;
        }
        @keyframes breathe {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.1); opacity: 1; }
        }

        /* --- 3. LAYOUT GRID (Desktop First Approach) --- */
        .studio-layout {
            display: grid;
            grid-template-columns: 450px 1fr; /* Editor width fixed, Preview flexible */
            width: 100%; height: 100%;
        }

        /* --- 4. EDITOR PANEL (Left Side) --- */
        .editor-zone {
            background: rgba(10, 10, 12, 0.6);
            backdrop-filter: blur(20px);
            border-left: 1px solid var(--glass-border);
            display: flex; flex-direction: column;
            position: relative;
            z-index: 10;
        }

        /* Header */
        .brand-header {
            padding: 30px; 
            display: flex; align-items: center; justify-content: space-between;
            border-bottom: 1px solid var(--glass-border);
        }
        .logo { font-size: 1.5rem; font-weight: 900; letter-spacing: -1px; display: flex; align-items: center; gap: 10px; }
        .logo i { color: var(--primary); filter: drop-shadow(0 0 10px var(--primary)); }

        /* Progress Line */
        .progress-line { height: 4px; background: rgba(255,255,255,0.05); width: 100%; position: absolute; bottom: 0; left: 0; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.6s var(--ease-elastic); box-shadow: var(--primary-glow); }

        /* Steps Container */
        .steps-viewport {
            flex: 1; padding: 40px; overflow-y: auto;
            display: flex; flex-direction: column; justify-content: center;
        }
        
        /* Animations */
        .step-slide {
            display: none; opacity: 0; transform: translateY(20px);
            transition: all 0.5s ease;
        }
        .step-slide.active { display: block; opacity: 1; transform: translateY(0); }

        /* TYPOGRAPHY & INPUTS (BIGGER & BETTER) */
        h2 { font-size: 2.2rem; margin-bottom: 15px; font-weight: 800; line-height: 1.2; }
        p.desc { font-size: 1.1rem; color: var(--text-muted); margin-bottom: 40px; line-height: 1.6; }

        .input-block { margin-bottom: 25px; }
        label { display: block; margin-bottom: 12px; font-size: 1rem; color: #d1d5db; font-weight: 600; }
        
        input, textarea {
            width: 100%; padding: 18px 20px; /* Big touch targets */
            font-size: 1.1rem; /* Big Font */
            border-radius: 16px;
            background: var(--glass-surface);
            border: 2px solid var(--glass-border);
            color: white; font-family: inherit;
            transition: all 0.3s ease;
        }
        input:focus, textarea:focus {
            background: rgba(124, 58, 237, 0.05);
            border-color: var(--primary);
            box-shadow: var(--primary-glow);
            transform: translateY(-2px);
        }

        /* Avatar Big */
        .avatar-box {
            width: 140px; height: 140px; border-radius: 50%;
            background: var(--glass-surface); border: 2px dashed rgba(255,255,255,0.2);
            margin: 0 auto 40px; cursor: pointer; position: relative; overflow: hidden;
            transition: 0.3s;
        }
        .avatar-box:hover { border-color: var(--primary); transform: scale(1.05); }
        .avatar-box img { width: 100%; height: 100%; object-fit: cover; display: none; }
        .avatar-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; color: rgba(255,255,255,0.3); }

        /* Action Buttons */
        .control-bar {
            padding: 30px; display: flex; gap: 20px;
            background: rgba(0,0,0,0.2); border-top: 1px solid var(--glass-border);
        }
        .btn-action {
            padding: 20px; border-radius: 16px; font-size: 1.1rem; font-weight: 700; cursor: pointer; border: none; transition: 0.3s;
        }
        .btn-primary { flex: 2; background: var(--primary); color: white; box-shadow: var(--primary-glow); }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 30px -5px rgba(124, 58, 237, 0.5); }
        .btn-ghost { flex: 1; background: transparent; color: var(--text-muted); border: 1px solid var(--glass-border); }
        .btn-ghost:hover { border-color: white; color: white; }

        /* --- 5. PREVIEW ZONE (Right Side - Floating Paper) --- */
        .preview-zone {
            display: flex; align-items: center; justify-content: center;
            background: transparent;
            perspective: 1000px;
            overflow: hidden;
            position: relative;
        }

        .paper-wrapper {
            width: 210mm; height: 297mm;
            background: white; color: #1e293b;
            transform: scale(0.7); /* Good size for desktop */
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.6);
            border-radius: 4px;
            overflow: hidden;
            transition: transform 0.4s ease;
        }

        /* --- 6. MOBILE ADAPTATION --- */
        @media (max-width: 1024px) {
            .studio-layout { display: block; }
            .preview-zone { 
                position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: #000; z-index: 999; display: none; /* Hidden by default */
                padding: 20px;
                overflow-y: auto;
            }
            .paper-wrapper { transform: scale(0.5); transform-origin: top center; height: auto; min-height: 297mm; margin-bottom: 50px; }
            
            .editor-zone { width: 100%; height: 100vh; border: none; }
            .brand-header { padding: 20px; }
            .steps-viewport { padding: 25px; }
            h2 { font-size: 1.8rem; }
            .control-bar { padding: 20px; }
            
            /* Mobile Toggle */
            .mobile-preview-btn {
                display: block !important;
                margin-top: 15px; width: 100%; padding: 15px; 
                background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); 
                color: white; border-radius: 12px;
            }
        }
        .mobile-preview-btn { display: none; }

        /* --- 7. RESUME DESIGN (Clean & Pro) --- */
        .res-container { padding: 0; height: 100%; display: flex; flex-direction: column; background: white; }
        .res-top { background: #1e293b; color: white; padding: 40px; display: flex; gap: 30px; align-items: center; }
        .res-photo-print { width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.2); object-fit: cover; display: none; }
        .res-main { padding: 40px; display: grid; grid-template-columns: 2fr 1.2fr; gap: 40px; flex: 1; }
        .res-sec-head { font-size: 0.9rem; font-weight: 800; color: #1e293b; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px; margin-bottom: 15px; letter-spacing: 1px; }
        .res-item { margin-bottom: 20px; }
        .res-skill-tag { display: inline-block; background: #f1f5f9; padding: 5px 10px; border-radius: 6px; font-size: 0.85rem; margin: 0 5px 5px 0; font-weight: 600; color: #334155; }

        /* Helpers */
        .hidden { display: none; }
        
        /* Mini Cards for Lists */
        .mini-card {
            background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px;
            margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--glass-border);
        }
        
        /* Loader Overlay */
        #loaderOverlay {
            position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); 
            z-index: 9999; display:none; justify-content:center; align-items:center; flex-direction: column;
        }
    </style>
</head>
<body>

    <div class="ambient-bg"></div>
    
    <div id="loaderOverlay">
        <i class="fa-solid fa-spinner fa-spin" style="font-size:3rem; color:var(--primary)"></i>
        <p style="margin-top:10px; color:white">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ù„Ù PDF...</p>
    </div>

    <div class="studio-layout">
        
        <div class="editor-zone" id="editorZone">
            <div class="brand-header">
                <div class="logo"><i class="fa-solid fa-layer-group"></i> BASEL</div>
                <div style="font-size:0.9rem; color:var(--text-muted); font-weight:600">Step <span id="stepCounter">1</span>/5</div>
            </div>
            <div class="progress-line"><div class="progress-fill" id="progBar"></div></div>

            <div class="steps-viewport">
                
                <div class="step-slide active" id="step1">
                    <h2>Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
                    <p class="desc">Ù„Ù†Ø¶Ø¹ ÙˆØ¬Ù‡Ù‹Ø§ ÙˆØ§Ø³Ù…Ù‹Ø§ Ù„Ù„ØªÙ…ÙŠØ². Ù‡Ø°Ù‡ ÙˆØ§Ø¬Ù‡Ø© Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ©.</p>
                    
                    <div class="avatar-box" onclick="document.getElementById('fileIn').click()">
                        <img id="imgView">
                        <i class="fa-solid fa-camera avatar-icon" id="iconView"></i>
                        <input type="file" id="fileIn" hidden accept="image/*" onchange="loadImg(this)">
                    </div>

                    <div class="input-block">
                        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="inName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." oninput="refresh()">
                    </div>
                    <div class="input-block">
                        <label>Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
                        <input type="text" id="inTitle" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø¯ÙŠØ± Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ Ù…Ø¨Ø±Ù…Ø¬..." oninput="refresh()">
                    </div>
                </div>

                <div class="step-slide" id="step2">
                    <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h2>
                    <p class="desc">ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙƒØŸ</p>
                    
                    <div class="input-block"><label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label><input type="text" id="inPhone" oninput="refresh()"></div>
                    <div class="input-block"><label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label><input type="text" id="inEmail" oninput="refresh()"></div>
                    <div class="input-block"><label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label><input type="text" id="inLoc" oninput="refresh()"></div>
                </div>

                <div class="step-slide" id="step3">
                    <h2>Ø§Ù„Ù†Ø¨Ø°Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h2>
                    <p class="desc">Ù„Ø¯ÙŠÙƒ 5 Ø«ÙˆØ§Ù†Ù Ù„Ø¬Ø°Ø¨ Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ù‚Ø§Ø±Ø¦. Ø§ÙƒØªØ¨ Ø¨Ø§Ø®ØªØµØ§Ø± ÙˆÙ‚ÙˆØ©.</p>
                    <textarea id="inSum" rows="6" placeholder="Ø£Ù†Ø§ Ø®Ø¨ÙŠØ± ÙÙŠ..." oninput="refresh()"></textarea>
                </div>

                <div class="step-slide" id="step4">
                    <h2>Ø§Ù„Ø®Ø¨Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h2>
                    <p class="desc">Ø¬ÙˆÙ‡Ø± Ù…Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©.</p>
                    
                    <div id="listContainer"></div>

                    <div style="background:rgba(255,255,255,0.02); padding:20px; border-radius:16px; border:1px dashed rgba(255,255,255,0.1); margin-top:20px">
                        <label style="color:var(--primary)">+ Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©</label>
                        <input id="newRole" placeholder="Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ" style="margin-bottom:10px">
                        <input id="newComp" placeholder="Ø§Ù„Ø´Ø±ÙƒØ©" style="margin-bottom:10px">
                        <textarea id="newDesc" placeholder="Ø§Ù„ÙˆØµÙ" rows="2" style="margin-bottom:10px"></textarea>
                        <button onclick="addExp()" class="btn-action btn-primary" style="width:100%; padding:10px; font-size:0.9rem">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>

                    <div style="margin-top:30px">
                        <label>Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©</label>
                        <div style="display:flex; gap:10px">
                            <input id="newSkill" placeholder="Ù…Ø«Ø§Ù„: Photoshop">
                            <button onclick="addSkill()" class="btn-action btn-primary" style="flex:0 0 60px"><i class="fa-solid fa-plus"></i></button>
                        </div>
                        <div id="skillsContainer" style="margin-top:15px; display:flex; flex-wrap:wrap; gap:10px"></div>
                    </div>
                </div>

                <div class="step-slide" id="step5">
                    <div style="text-align:center; padding-top:40px">
                        <i class="fa-solid fa-wand-magic-sparkles" style="font-size:5rem; color:var(--primary); margin-bottom:30px; animation: breathe 3s infinite"></i>
                        <h2>Ø§Ù„ØªØ­ÙØ© Ø§Ù„ÙÙ†ÙŠØ© Ø¬Ø§Ù‡Ø²Ø©!</h2>
                        <p class="desc">Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù PDF Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                        <button onclick="downloadPDF()" class="btn-action btn-primary" style="width:100%">
                            ØªØ­Ù…ÙŠÙ„ PDF Ø§Ù„Ø¢Ù† <i class="fa-solid fa-cloud-arrow-down"></i>
                        </button>
                    </div>
                </div>

                <button class="mobile-preview-btn" onclick="toggleMobPreview()">ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯</button>
            </div>

            <div class="control-bar">
                <button class="btn-action btn-ghost" id="btnBack" onclick="nav(-1)">Ø±Ø¬ÙˆØ¹</button>
                <button class="btn-action btn-primary" id="btnNext" onclick="nav(1)">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>

        <div class="preview-zone" id="previewZone">
            <button onclick="toggleMobPreview()" style="position:fixed; top:20px; right:20px; z-index:1001; padding:10px; border-radius:50%; width:40px; height:40px; border:none; background:white; color:black; display:none" id="closeMob">âœ•</button>
            
            <div class="paper-wrapper">
                <div class="res-container" id="resumeContent">
                    <div class="res-top">
                        <img id="resImg" class="res-photo-print">
                        <div>
                            <h1 id="resName" style="font-size:2.5rem; margin:0; line-height:1">Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§</h1>
                            <p id="resTitle" style="font-size:1.2rem; opacity:0.8; margin-top:5px; font-weight:300">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</p>
                        </div>
                    </div>
                    
                    <div class="res-main">
                        <div>
                            <div class="res-sec-head">Ù…Ù„Ù Ø§Ù„ØªØ¹Ø±ÙŠÙ</div>
                            <p id="resSum" style="line-height:1.6; color:#475569; margin-bottom:30px">...</p>
                            
                            <div class="res-sec-head">Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</div>
                            <div id="resExpList"></div>
                        </div>
                        
                        <div style="border-right:1px solid #e2e8f0; padding-right:25px; margin-right:-25px">
                            <div class="res-sec-head">ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ</div>
                            <div id="resContact" style="font-size:0.9rem; color:#334155; line-height:2"></div>

                            <div class="res-sec-head" style="margin-top:30px">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</div>
                            <div id="resSkillsList"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        let step = 1;
        const total = 5;
        let data = { exp: [], skills: [] };

        function nav(dir) {
            if(step + dir < 1 || step + dir > total) return;
            
            document.getElementById(`step${step}`).classList.remove('active');
            step += dir;
            setTimeout(() => { document.getElementById(`step${step}`).classList.add('active'); }, 100);

            document.getElementById('stepCounter').innerText = step;
            document.getElementById('progBar').style.width = `${((step-1)/(total-1))*100}%`;
            
            document.getElementById('btnBack').style.visibility = step===1 ? 'hidden' : 'visible';
            // ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ù†Ø®ÙÙŠ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ø£Ù†Ù†Ø§ ÙˆØ¶Ø¹Ù†Ø§ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØ¨ÙŠØ±
            if(step===total) document.getElementById('btnNext').style.display = 'none';
            else {
                document.getElementById('btnNext').style.display = 'block';
                document.getElementById('btnNext').innerText = 'Ø§Ù„ØªØ§Ù„ÙŠ';
            }
        }

        function refresh() {
            sync('inName', 'resName', 'Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§');
            sync('inTitle', 'resTitle', 'Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ');
            sync('inSum', 'resSum', '...');
            
            const contactHTML = [
                {v: get('inPhone'), i:'phone'},
                {v: get('inEmail'), i:'envelope'},
                {v: get('inLoc'), i:'location-dot'}
            ].filter(x=>x.v).map(x=> `<div><i class="fa-solid fa-${x.i}" style="width:20px; color:#7c3aed"></i> ${x.v}</div>`).join('');
            document.getElementById('resContact').innerHTML = contactHTML;
        }

        function addExp() {
            const role = get('newRole');
            const comp = get('newComp');
            const desc = get('newDesc');
            if(role && comp) {
                data.exp.push({role, comp, desc});
                document.getElementById('newRole').value = '';
                document.getElementById('newDesc').value = '';
                renderLists();
            }
        }

        function addSkill() {
            const s = get('newSkill');
            if(s) {
                data.skills.push(s);
                document.getElementById('newSkill').value = '';
                renderLists();
            }
        }

        function renderLists() {
            document.getElementById('listContainer').innerHTML = data.exp.map((x,i)=>`
                <div class="mini-card">
                    <div><strong>${x.role}</strong> - ${x.comp}</div>
                    <i class="fa-solid fa-trash" style="color:#ef4444; cursor:pointer" onclick="data.exp.splice(${i},1); renderLists()"></i>
                </div>
            `).join('');
            
            document.getElementById('resExpList').innerHTML = data.exp.map(x=>`
                <div class="res-item">
                    <div style="font-weight:700; color:#1e293b">${x.role}</div>
                    <div style="color:#7c3aed; font-size:0.9rem; margin-bottom:5px">${x.comp}</div>
                    <p style="font-size:0.9rem; color:#475569">${x.desc}</p>
                </div>
            `).join('');

            document.getElementById('skillsContainer').innerHTML = data.skills.map((x,i)=>`
                <span style="background:rgba(255,255,255,0.1); padding:5px 10px; border-radius:5px; font-size:0.9rem">
                    ${x} <span style="color:#ef4444; cursor:pointer; margin-right:5px" onclick="data.skills.splice(${i},1); renderLists()">x</span>
                </span>
            `).join('');
            
            document.getElementById('resSkillsList').innerHTML = data.skills.map(x=>`<span class="res-skill-tag">${x}</span>`).join('');
        }

        function loadImg(input) {
            if(input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => {
                    document.getElementById('imgView').src = e.target.result;
                    document.getElementById('imgView').style.display='block';
                    document.getElementById('iconView').style.display='none';
                    document.getElementById('resImg').src = e.target.result;
                    document.getElementById('resImg').style.display='block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // --- DIRECT PDF DOWNLOAD FUNCTION ---
        function downloadPDF() {
            // Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØ­ÙˆÙŠÙ„Ù‡ (ÙˆØ±Ù‚Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© ÙÙ‚Ø·)
            const element = document.getElementById('resumeContent');
            
            // Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨Ø©
            const opt = {
                margin:       0,
                filename:     'My_Resume.pdf',
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2, useCORS: true }, // scale 2 Ù„Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©
                jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù„ÙˆØ¯Ø±
            document.getElementById('loaderOverlay').style.display = 'flex';

            // Ø§Ù„ØªÙ†ÙÙŠØ°
            html2pdf().set(opt).from(element).save().then(() => {
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù„ÙˆØ¯Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
                document.getElementById('loaderOverlay').style.display = 'none';
            });
        }

        const get = id => document.getElementById(id).value;
        const sync = (src, dest, def) => document.getElementById(dest).innerText = get(src) || def;

        function toggleMobPreview() {
            const zone = document.getElementById('previewZone');
            const btn = document.getElementById('closeMob');
            if(zone.style.display === 'flex') {
                zone.style.display = 'none';
                btn.style.display = 'none';
            } else {
                zone.style.display = 'flex';
                btn.style.display = 'block';
            }
        }
        
        document.getElementById('btnBack').style.visibility = 'hidden';
    </script>
</body>
</html>
